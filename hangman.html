<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Events!</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />

  </head>
  
  <body>
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="jumbotron">
            <h2>Type a letter to start <span id="user-text"></span>
              </h2>                           
          </div>
        </div>
        <div class="col-md-6">
          <div class="jumbotron">
            <h2 id = "display-word"></h2>                           
          </div>
        </div>
       </div>
        <div class="row">
        <div class="col-md-6">
          <div class="jumbotron">
            <h2>Letters you have guessed: <br></h2> 
            <h2 id = "lettersGuessed"></h2>                           
          </div>
        </div>
          <div class="col-md-5">
          <div class="jumbotron">
            <h2>Guesses remaining: <span id="guesses-Left">12</span></h2>            
          </div>
        </div>
      </div>
    </div>

    <!-- We have to put this at the end of our document to ensure the user-text
         span exists when we try to access it. -->
    
    <script type="text/javascript">
    var wordsToGuess = ['space', 'astronaut', 'rocket', 'nasa', 'moon'];    
    var lettersGuessed = [];
    var charsToRepeat = '_ ';
    var displayWord = '';
    var gameNumber = 1;
    var wordsToGuessIndex = (gameNumber - 1);
    var nbrOfWins = 0;
    var nbrOfLosses = 0;   
	var nbrOfCorrectLetters = 0;
	var nbrOfIncorrectLetters = 0;
	var nbrGuessesAllowed = 12;
	var guessesLeft = 12;
   
      var userText = document.getElementById("user-text");
      var letterGuessed = document.getElementById("letter-guessed");
      var dispWord = document.getElementById("display-word");
      var dispGuessesLeft = document.getElementById("guesses-left");
    //  dispGuessesLeft.textContent = guessesLeft;
	  
      var wordToDisplay = wordsToGuess[wordsToGuessIndex];
	  var lenwtd = wordToDisplay.length;
     // alert(wordToDisplay);
      displayWord = charsToRepeat.repeat(wordToDisplay.length);
	  var lendw = displayWord.length;	 
    
      dispWord.textContent = displayWord;   
		console.log("here");  

    function checkInput(){
         if (!letterGuessed.match(/[a-zA-Z]$/) && letterGuessed != "") {
        letterGuessed.value="";
        alert("Please Enter only alphabets");
        } else {
            lettersGuessed.push(letterGuessed);
        //    alert(lettersGuessed);
        }
      }
	function isItAMatch(ltrToMatch) {
			
		var correctGuess = false;		
	//	alert('lenwtd ' + lenwtd);
			
		for (var i = 0; i < lendw; i++){				
          if (ltrToMatch === wordToDisplay[i]) {	
			 correctGuess = true;             	  
			 var l = i * 2;
			 var m = l + 1;			 
		//	 alert('displayWord before substring' + displayWord);
             displayWord = displayWord.substring(0, l) + ltrToMatch +  displayWord.substring(m, lendw); 			
		  //   alert('displayWord ' + displayWord);		
          }
		   
		}	
		if (correctGuess)  {
				nbrOfCorrectLetters = nbrOfCorrectLetters + 1;	
                //    alert('nbrOfCorrectLetters ' + nbrOfCorrectLetters);
		   } else {
				nbrOfIncorrectLetters = nbrOfIncorrectLetters + 1;	
				//	alert('nbrOfIncorrectLetters ' + nbrOfIncorrectLetters);                				
			}	
	}
  
      
    document.onkeyup = function(event) {
// Get the keyboard button that was pressed when a key event occured:
      userText.textContent = event.key;
  //    userText.textContent = userText.textContent + event.key;
      letterGuessed = event.key;      
    
      checkInput(userText.textContent);	 
	// alert('display word ' + displayWord);
	  isItAMatch(letterGuessed);
	//  alert('displayWord after letterGuessed function ' + displayWord);
      document.getElementById("lettersGuessed").textContent  = lettersGuessed;
      dispWord.textContent = displayWord;
      
      guessesLeft = guessesLeft - 1;
    //  alert('guessesLeft ' + guessesLeft);
      dispGuessesLeft.textContent = dispGuessesLeft.textContent + guessesLeft;
    // document.getElementById("guesses-left").innerHTML  = guessesLeft;



     // alert('guessesLeft ' + guessesLeft);
      dispGuessesLeft.textContent = guessesLeft;
	  if (guessesLeft === 0) {
	      if (nbrOfCorrectLetters === lenwtd) {
			nbrOfWins = nbrOfWins + 1;
		  } else {
			nbrOfLosses = nbrOfLosses + 1;  
          }
    }  
  }
	  
    /* var updateGuessesLeft = function() {
      // Here we are grabbing the HTML element and setting it equal to the guessesLeft.
      // (i.e. guessesLeft will get displayed in HTML)
      document.querySelector("#guesses-left").innerHTML = guessesLeft;
    } 
  //  for (i=1; i < length.) */

    /* Initialize the game when the page loads.
hangmanGame.setupGame();
// When a key is pressed..
document.onkeyup = function(event) {
  // Capture pressed key and make it lowercase.
  hangmanGame.letterGuessed = String.fromCharCode(event.keyCode).toLowerCase();
  // Pass the guessed letter into our updatePage function to run the game logic.
  hangmanGame.updatePage(hangmanGame.letterGuessed);
 /*<script type="text/javascript">
    var userText = document.getElementById("user-text");
    document.onkeyup = function(event) {
      userText.textContent = event.key;
      userText.textContent = userText.textContent + event.key;
    }

   */
//  //    userText.textContent = alphabet //event.key;

  //    userText.textContent = userText.textContent + event.key;
 //   }
  /*  driveToWork: function() {

          // When we say "this" (as in this.mileage) we are referring to the object the method is a part of.
          // In this case, we will alert the mileage of the car object.
          alert("Old Mileage: " + mileage);

          // Adding 8 to the car's mileage.
          mileage = mileage + 8;

          // Alerting the car's new mileage.
          alert("New mileage: " + this.mileage);
        }

        function Allow(){
    if (!userText.match(/[a-zA-Z]$/) && userText.value !="") {
        userText.value="";
        alert("Please Enter only alphabets");
    }
} */
  //         foo(arr) {
 //   var a = [genesis], b = [], prev;

 //   arr.sort();
   // for ( var i = 0; i < arr.length; i++ ) {
     //   if ( arr[i] !== prev ) {
  //          a.push(arr[i]);
   //         b.push(1);
    //    } else {
     //       b[b.length-1]++;
      //  }
  //      prev = arr[i];
   // }

  //  return [a, b];
//}
     


</script>

</body>
</html> 

